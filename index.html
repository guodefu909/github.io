<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#333"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#333">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.css" integrity="sha256-zM8WXtG4eUn7dKKNMTuoWZub++VnSfaOpA/8PJfvTBo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"guodefu909.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"buttons","active":"changyan","storage":true,"lazyload":false,"nav":null,"activeClass":"changyan"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js" defer></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="郭德福的博客">
<meta property="og:url" content="https://guodefu909.github.io/index.html">
<meta property="og:site_name" content="郭德福的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="guodefu909">
<meta property="article:tag" content="郭德福, 博客, guodefu909">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://guodefu909.github.io/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>郭德福的博客</title>
  








  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancyapps-ui/5.0.36/fancybox/fancybox.umd.js" integrity="sha256-hiUEBwFEpLF6DlB8sGXlKo4kPZ46Ui4qGpd0vrVkOm4=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/5.23.0/lite/builds/browser.umd.js" integrity="sha256-pfKeJRuGRsHDNu078bcMlWdxjw/Vgz5QLC6hyLFw9fA=" crossorigin="anonymous" defer></script><script src="/js/third-party/search/algolia-search.js" defer></script>
<script class="next-config" data-name="chatra" type="application/json">{"enable":true,"async":true,"id":"ENHhrWwiPvjujjjAo"}</script>
<script src="/js/third-party/chat/chatra.js" defer></script>
<script async src="https://call.chatra.io/chatra.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.5.0/mermaid.min.js","integrity":"sha256-2obLuIPcceEhkE3G09G33hBdmE55ivVcZUlcKcGNHjU="}}</script>
  <script src="/js/third-party/tags/mermaid.js" defer></script>


  <script src="/js/third-party/fancybox.js" defer></script>

  <script src="/js/third-party/pace.js" defer></script>

  <script src="/js/third-party/addtoany.js" defer></script>

  


  <script class="next-config" data-name="leancloud_visitors" type="application/json">{"enable":true,"app_id":"bYDJYWq6BXkjRf3ZrqyakzaL-gzGzoHsz","app_key":"DABAED4Ga3fy4MW586LD48fm","server_url":"https://bydjywq6.lc-cn-n1-shared.com","security":false}</script>
  <script src="/js/third-party/statistics/lean-analytics.js" defer></script>


  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"all","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">郭德福的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">0</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">0</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">5</span></a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fab fa-algolia fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="guodefu909"
      src="/images/tech.gif">
  <p class="site-author-name" itemprop="name">guodefu909</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">5</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>
  <div class="sidebar-button animated">
    <button><i class="fa fa-comment"></i>
      聊天
    </button>
  </div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/guodefu909" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;guodefu909" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:guodefu909@126.com" title="E-Mail → mailto:guodefu909@126.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://guodefu909.github.io/2025/04/07/Markdown%E8%AF%AD%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/tech.gif">
      <meta itemprop="name" content="guodefu909">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郭德福的博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 郭德福的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/07/Markdown%E8%AF%AD%E6%B3%95/" class="post-title-link" itemprop="url">Markdown语法</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-04-07 23:26:44" itemprop="dateCreated datePublished" datetime="2025-04-07T23:26:44+08:00">2025-04-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-04-08 22:23:50" itemprop="dateModified" datetime="2025-04-08T22:23:50+08:00">2025-04-08</time>
    </span>

  
    <span id="/2025/04/07/Markdown%E8%AF%AD%E6%B3%95/" class="post-meta-item leancloud_visitors" data-flag-title="Markdown语法" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="Markdown语法" href="/2025/04/07/Markdown%E8%AF%AD%E6%B3%95/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::5a85b9cf85695f538b4d1e212d479867" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <hr>
<h1 id="1-分隔符"><a href="#1-分隔符" class="headerlink" title="1.分隔符"></a>1.分隔符</h1><blockquote>
<p>在单独一行上使用三个或多个星号 (<code>***</code>)、破折号 (<code>---</code>) 或下划线 (<code>___</code>) ，并且不能包含其他内容</p>
</blockquote>
<hr>
<h1 id="2-注释"><a href="#2-注释" class="headerlink" title="2.注释"></a>2.注释</h1><blockquote>
<p>注释在阅读视图不可见，请查看编辑视图</p>
</blockquote>
<h2 id="2-1html注释"><a href="#2-1html注释" class="headerlink" title="2.1html注释"></a>2.1html注释</h2><!--我是html单行注释，不会在结果中显示。-->

<!--
我是多段注释，
不会在结果中显示。
-->
<h2 id="2-2hack注释"><a href="#2-2hack注释" class="headerlink" title="2.2hack注释"></a>2.2hack注释</h2><hr>
<h1 id="3-块引用"><a href="#3-块引用" class="headerlink" title="3.块引用"></a>3.块引用</h1><blockquote>
<p>创建块引用，请在段落前添加一个 <code>&gt;</code> 符号</p>
</blockquote>
<hr>
<h1 id="4-换行"><a href="#4-换行" class="headerlink" title="4.换行"></a>4.换行</h1><blockquote>
<p>几乎每个 Markdown 应用程序都支持 HTML 的 <code>&lt;br&gt;</code> 标签<br>几乎每个 Markdown 应用程序都支持两个&#x2F;多个空格进行换行，称为 <code>结尾空格</code><br>有的只须键入回车键即可实现换行，如Obsidian</p>
</blockquote>
<blockquote>
<p>First line with two spaces after.<br>And the next line.  </p>
<p>First line with the HTML tag after.<br> And the next line.</p>
</blockquote>
<hr>
<h1 id="5-字体"><a href="#5-字体" class="headerlink" title="5.字体"></a>5.字体</h1><blockquote>
<p><strong>这是需要粗体的文字</strong><br><em>这是需要斜体的文字</em><br><u>这是需要加下划线的文字</u>[^u]<br><del>这是需要加删除线的文字</del><br><mark>用 mark 标签让文字高亮</mark><br>&#x3D;&#x3D;这是Obsidian支持的高亮的文字&#x3D;&#x3D;<a href="%E6%99%AE%E9%80%9A%E6%96%87%E6%9C%AC%E9%AB%98%E4%BA%AE%E4%B8%8D%E6%98%AFMarkdown%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">^普通文本高亮</a>  </p>
</blockquote>
<p>[^u]: <code>&lt;u&gt;</code>是 HTML  标签</p>
<hr>
<h1 id="6-标题"><a href="#6-标题" class="headerlink" title="6.标题"></a>6.标题</h1><blockquote>
<p>不同数量的<code>#</code>可以完成不同的标题<br><em>许多Markdown处理器支持标题的自定义ID，但Obsidian不支持</em></p>
</blockquote>
<blockquote>
<h1 id="1级标题"><a href="#1级标题" class="headerlink" title="1级标题"></a>1级标题</h1><h2 id="2级标题"><a href="#2级标题" class="headerlink" title="2级标题"></a>2级标题</h2><h3 id="3级标题"><a href="#3级标题" class="headerlink" title="3级标题"></a>3级标题</h3><h4 id="4级标题"><a href="#4级标题" class="headerlink" title="4级标题"></a>4级标题</h4><h5 id="5级标题"><a href="#5级标题" class="headerlink" title="5级标题"></a>5级标题</h5><h6 id="6级标题"><a href="#6级标题" class="headerlink" title="6级标题"></a>6级标题</h6></blockquote>
<hr>
<h1 id="7-链接"><a href="#7-链接" class="headerlink" title="7.链接"></a>7.链接</h1><h2 id="7-1普通链接"><a href="#7-1普通链接" class="headerlink" title="7.1普通链接"></a>7.1普通链接</h2><blockquote>
<p>链接文本放在中括号内，链接地址放在后面的括号中，链接title可选</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://markdown.com.cn/" title="最好的markdown教程">Markdown语法</a></p>
<h2 id="7-2引用类型链接"><a href="#7-2引用类型链接" class="headerlink" title="7.2引用类型链接"></a>7.2引用类型链接</h2><blockquote>
<p>引用样式链接是一种特殊的链接，它使URL在Markdown中更易于显示和阅读。<br>链接在其他位置定义，链接文本通过标签关联链接</p>
</blockquote>
<p> <a target="_blank" rel="noopener" href="https://markdown.com.cn/" title="最好的markdown教程">Markdown语法</a></p>
<h2 id="7-3带格式化的链接"><a href="#7-3带格式化的链接" class="headerlink" title="7.3带格式化的链接"></a>7.3带格式化的链接</h2><blockquote>
<p>强调链接, 在链接语法前后增加星号。 要将链接表示为代码，在方括号中添加反引号。</p>
</blockquote>
<p>I love supporting the <strong><a target="_blank" rel="noopener" href="https://eff.org/">EFF</a></strong>.<br>This is the <em><a target="_blank" rel="noopener" href="https://www.markdownguide.org/">Markdown Guide</a></em>.<br>See the section on <a href="#code"><code>code</code></a>.  </p>
<h2 id="7-4网址和Email地址"><a href="#7-4网址和Email地址" class="headerlink" title="7.4网址和Email地址"></a>7.4网址和Email地址</h2><blockquote>
<p>使用尖括号可以很方便地把URL或者email地址变成可点击的链接</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://markdown.com.cn/">https://markdown.com.cn</a>[^http]<br><a href="mailto:&#102;&#97;&#x6b;&#101;&#64;&#x65;&#x78;&#97;&#x6d;&#x70;&#x6c;&#101;&#x2e;&#x63;&#111;&#x6d;">&#102;&#97;&#x6b;&#101;&#64;&#x65;&#x78;&#97;&#x6d;&#x70;&#x6c;&#101;&#x2e;&#x63;&#111;&#x6d;</a></p>
<p>[^http]: 有的 Markdown 应用程序不需要尖括号，如Obsidian</p>
<h2 id="7-5禁用自动URL链接"><a href="#7-5禁用自动URL链接" class="headerlink" title="7.5禁用自动URL链接"></a>7.5禁用自动URL链接</h2><blockquote>
<p>如果不希望自动链接URL，则可以通过将URL表示为带反引号的代码来删除该链接。</p>
</blockquote>
<p><code>http://www.example.com</code></p>
<h1 id="8-图片"><a href="#8-图片" class="headerlink" title="8.图片"></a>8.图片</h1><h2 id="8-1普通图片"><a href="#8-1普通图片" class="headerlink" title="8.1普通图片"></a>8.1普通图片</h2><p><img data-src="https://markdown.com.cn/images/i-am-svg.svg" alt="这是一个图片" title="我是svg"></p>
<h2 id="8-2链接图片"><a href="#8-2链接图片" class="headerlink" title="8.2链接图片"></a>8.2链接图片</h2><blockquote>
<p>给图片增加链接，将图像的Markdown 括在方括号中，然后将链接添加在圆括号中</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://markdown.com.cn/images/i-am-svg.svg"><img data-src="https://markdown.com.cn/images/i-am-svg.svg" alt="沙漠中的岩石" title="titile1"></a></p>
<hr>
<h1 id="9-列表"><a href="#9-列表" class="headerlink" title="9.列表"></a>9.列表</h1><h2 id="9-1有序列表"><a href="#9-1有序列表" class="headerlink" title="9.1有序列表"></a>9.1有序列表</h2><blockquote>
<p>有序列表在数字及符号<code>.</code>后加空格</p>
</blockquote>
<ol>
<li>有序列表 1</li>
<li>有序列表 2</li>
<li>有序列表 3</li>
</ol>
<h2 id="9-2无序列表"><a href="#9-2无序列表" class="headerlink" title="9.2无序列表"></a>9.2无序列表</h2><blockquote>
<p>无序列表在符号<code>-</code>后加空格</p>
</blockquote>
<ul>
<li>无序列表 1</li>
<li>无序列表 2</li>
<li>无序列表 3</li>
</ul>
<h2 id="9-3任务列表"><a href="#9-3任务列表" class="headerlink" title="9.3任务列表"></a>9.3任务列表</h2><blockquote>
<p>任务列表在符号<code>-</code>后加空格，再加<code>[x]</code>或<code>[ ]</code>加空格</p>
</blockquote>
<ul>
<li><input checked="" disabled="" type="checkbox"> Write the press release</li>
<li><input disabled="" type="checkbox"> Update the website</li>
<li><input disabled="" type="checkbox"> Contact the media</li>
</ul>
<h2 id="9-4定义列表"><a href="#9-4定义列表" class="headerlink" title="9.4定义列表"></a>9.4定义列表</h2><blockquote>
<p>在第一行上键入术语。在下一行，键入一个冒号，后跟一个空格和定义</p>
</blockquote>
<dl><dt>术语一</dt><dd>这是术语一的定义[^定义列表]</dd></dl><dl><dt>术语二<br>: 这是术语二的一个定义</dt><dd>这是术语二的另一个定义</dd></dl><p>[^定义列表]: 很多Markdown 应用程序不支持，包括Obsidian，术语定义正常应显示为段落缩进</p>
<hr>
<h1 id="10-代码块"><a href="#10-代码块" class="headerlink" title="10.代码块"></a>10.代码块</h1><h2 id="10-1行内代码块"><a href="#10-1行内代码块" class="headerlink" title="10.1行内代码块"></a>10.1行内代码块</h2><blockquote>
<p>在一个行内需要引用代码，只要用反引号引起来就好<br>使用 <code>printf()</code> 函数</p>
</blockquote>
<blockquote>
<p>代码中包含反引号，则可以通过将代码包裹在双反引号中<br><code>Use `code` in your Markdown file.</code></p>
</blockquote>
<h2 id="10-2围栏代码块"><a href="#10-2围栏代码块" class="headerlink" title="10.2围栏代码块"></a>10.2围栏代码块</h2><blockquote>
<p>代码块的前一行及后一行使用三个反引号<br><strong>第一行反引号后面表示代码块所使用的语言</strong></p>
</blockquote>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;firstName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;John&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;lastName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Smith&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="number">25</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FileName: HelloWorld.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">  <span class="comment">// Java 入口程序，程序从此入口</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello,World!&quot;</span>); <span class="comment">// 向控制台打印一条语句</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="11-表格"><a href="#11-表格" class="headerlink" title="11.表格"></a>11.表格</h1><blockquote>
<p>使用<code>|</code>分隔每列，使用<code>-</code>分隔标题，左侧，右侧或两侧添加冒号对齐</p>
</blockquote>
<blockquote>
<table>
<thead>
<tr>
<th align="left">姓名</th>
<th align="center">年龄</th>
<th align="right">工作</th>
</tr>
</thead>
<tbody><tr>
<td align="left">小可爱</td>
<td align="center">18</td>
<td align="right">吃可爱多</td>
</tr>
<tr>
<td align="left">小小勇敢</td>
<td align="center">20</td>
<td align="right">爬棵勇敢树</td>
</tr>
<tr>
<td align="left">小小小机智</td>
<td align="center">22</td>
<td align="right">看一本机智书</td>
</tr>
</tbody></table>
</blockquote>
<hr>
<h1 id="12-公式"><a href="#12-公式" class="headerlink" title="12.公式"></a>12.公式</h1><h2 id="12-1行内公式"><a href="#12-1行内公式" class="headerlink" title="12.1行内公式"></a>12.1行内公式</h2><p>$\ce{Hg^2+ -&gt;[I-] HgI2 -&gt;[I-] [Hg^{II}I4]^2-}$ </p>
<h2 id="12-2块公式"><a href="#12-2块公式" class="headerlink" title="12.2块公式"></a>12.2块公式</h2><p>$$H(D_2) &#x3D; -\left(\frac{2}{4}\log_2 \frac{2}{4} + \frac{2}{4}\log_2 \frac{2}{4}\right) &#x3D; 1$$</p>
<hr>
<h1 id="13-流程图"><a href="#13-流程图" class="headerlink" title="13.流程图"></a>13.流程图</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">A-&gt;&gt;B: How are you?</span><br><span class="line">B-&gt;&gt;A: Great!</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="14-脚注"><a href="#14-脚注" class="headerlink" title="14.脚注"></a>14.脚注</h1><blockquote>
<p>脚注可以添加注释和参考，而不会使文档正文混乱。<br>当创建脚注时，带有脚注的上标数字会出现在添加脚注参考的位置。读者可以单击链接以跳至页面底部的脚注内容。</p>
</blockquote>
<blockquote>
<p>在方括号内添加注脚名。注脚名可以是数字或单词，但不能包含空格或制表符。<br>脚注按顺序编号；注脚定义可以在任何位置。</p>
</blockquote>
<p>这是一个简单脚注<a href="%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E8%84%9A%E6%B3%A8.">^11</a>, 这是一个多行脚注.<a href="%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E5%A4%9A%E8%A1%8C%E8%84%9A%E6%B3%A8">^note</a></p>
<pre><code>缩进段落(4个空格)，以包括在脚注中
$$
a^2 = b^2 + c^2
$$
</code></pre>
<hr>
<h1 id="15-表情符号"><a href="#15-表情符号" class="headerlink" title="15.表情符号"></a>15.表情符号</h1><blockquote>
<p>可以简单地从<a target="_blank" rel="noopener" href="https://emojipedia.org/">Emojipedia</a> 等来源复制表情符号并将其粘贴到文档中</p>
</blockquote>
<p>🔥⚡🤔</p>
<hr>
<h1 id="16-HTML"><a href="#16-HTML" class="headerlink" title="16.HTML"></a>16.HTML</h1><h2 id="16-1对齐方式"><a href="#16-1对齐方式" class="headerlink" title="16.1对齐方式"></a>16.1对齐方式</h2><blockquote>
<center>行中心对齐</center>
<p align="left">行左对齐</p>
<p align="right">行右对齐</p>
</blockquote>
<hr>
<h1 id="17-转义字符"><a href="#17-转义字符" class="headerlink" title="17.转义字符"></a>17.转义字符</h1><blockquote>
<p>\ 反斜杠<br>` 反引号<br>* 星号<br>_ 下划线<br>{} 大括号<br>[] 中括号<br>() 小括号<br># 井号<br>+ 加号<br>- 减号<br>. 英文句号<br>! 感叹号  </p>
</blockquote>
<hr>
<h1 id="18-最佳实践"><a href="#18-最佳实践" class="headerlink" title="18.最佳实践"></a>18.最佳实践</h1><blockquote>
<p>不要用空格（spaces）或制表符（ tabs）缩进段落。</p>
</blockquote>
<hr>
<h1 id="19-Obsidian-特定格式"><a href="#19-Obsidian-特定格式" class="headerlink" title="19.Obsidian 特定格式"></a>19.Obsidian 特定格式</h1><h2 id="19-1内部链接"><a href="#19-1内部链接" class="headerlink" title="19.1内部链接"></a>19.1内部链接</h2><blockquote>
<p>使用双层方括号包含文本，可以链接到页面</p>
</blockquote>
<p>[[#18.最佳实践]]</p>
<h2 id="19-2内部嵌入"><a href="#19-2内部嵌入" class="headerlink" title="19.2内部嵌入"></a>19.2内部嵌入</h2><blockquote>
<p>使用感叹号和内部链接的格式来嵌入其它文件</p>
</blockquote>
<p>![[#1.分隔符]]</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://guodefu909.github.io/2025/04/07/Maven%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/tech.gif">
      <meta itemprop="name" content="guodefu909">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郭德福的博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 郭德福的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/07/Maven%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">Maven配置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-04-07 23:26:13 / 修改时间：23:30:42" itemprop="dateCreated datePublished" datetime="2025-04-07T23:26:13+08:00">2025-04-07</time>
    </span>

  
    <span id="/2025/04/07/Maven%E9%85%8D%E7%BD%AE/" class="post-meta-item leancloud_visitors" data-flag-title="Maven配置" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="Maven配置" href="/2025/04/07/Maven%E9%85%8D%E7%BD%AE/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::add2b93c6aa2f68e0ccf23916e3a7fbe" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Maven-配置优先级顺序"><a href="#Maven-配置优先级顺序" class="headerlink" title="Maven 配置优先级顺序"></a>Maven 配置优先级顺序</h1><blockquote>
<ol>
<li>项目级别 (<code>pom.xml</code>)</li>
<li>用户级别 (<code>$&#123;user.home&#125;/.m2/settings.xml</code>)</li>
<li>全局级别 (<code>$MAVEN_HOME/conf/settings.xml</code>)</li>
</ol>
</blockquote>
<h1 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h1><h2 id="pom-xml配置示例"><a href="#pom-xml配置示例" class="headerlink" title="pom.xml配置示例"></a>pom.xml配置示例</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-app<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>17<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring-boot.version</span>&gt;</span>2.7.18<span class="tag">&lt;/<span class="name">spring-boot.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">finalName</span>&gt;</span>$&#123;project.artifactId&#125;<span class="tag">&lt;/<span class="name">finalName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>central<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://repo.maven.apache.org/maven2<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="settings-xml"><a href="#settings-xml" class="headerlink" title="settings.xml"></a>settings.xml</h1><p>settings.xml主要是本地maven仓库的路径的配置和Maven 仓库&#x2F;镜像仓库的配置</p>
<h2 id="settings-xml配置示例"><a href="#settings-xml配置示例" class="headerlink" title="settings.xml配置示例"></a>settings.xml配置示例</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span>  </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>  </span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;         http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 指定本地maven仓库的路径 - 【常用】</span></span><br><span class="line"><span class="comment">    默认值是$&#123;user.home&#125;/.m2/repository。</span></span><br><span class="line"><span class="comment">    建议设置到非系统盘，如：D:/maven/repository --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>D:/maven/repository<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span> </span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--Maven是否需要和用户交互以获得输入 - 【不常用】</span></span><br><span class="line"><span class="comment">    Maven需要和用户交互以获得输入，则设置成true，反之则应为false。默认为true。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">interactiveMode</span>&gt;</span>true<span class="tag">&lt;/<span class="name">interactiveMode</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 指定使用单独配置文件，管理插件版本 - 【不常用】</span></span><br><span class="line"><span class="comment">    Maven使用$&#123;user.home&#125;/.m2/plugin-registry.xml来管理plugin的版本，就设置为true，</span></span><br><span class="line"><span class="comment">    默认为false --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">usePluginRegistry</span>&gt;</span>false<span class="tag">&lt;/<span class="name">usePluginRegistry</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 是否离线模式 - 【不常用】</span></span><br><span class="line"><span class="comment">    如果构建系统要在离线模式下工作，设置为true，默认为false。</span></span><br><span class="line"><span class="comment">    如果构建服务器因为网络故障或者安全问题不能与远程仓库相连，可以用这个设置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">offline</span>&gt;</span>false<span class="tag">&lt;/<span class="name">offline</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--插件组 - 【不常用】</span></span><br><span class="line"><span class="comment">    在pluginGroups元素下面可以定义一系列的pluginGroup元素。</span></span><br><span class="line"><span class="comment">    表示当通过plugin的前缀来解析plugin的时候到哪里寻找。</span></span><br><span class="line"><span class="comment">    pluginGroup元素指定的是plugin的groupId。</span></span><br><span class="line"><span class="comment">    默认情况下，Maven会自动把org.apache.maven.plugins和org.codehaus.mojo</span></span><br><span class="line"><span class="comment">    添加到pluginGroups下。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">pluginGroups</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginGroup</span>&gt;</span>org.mortbay.jetty<span class="tag">&lt;/<span class="name">pluginGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">pluginGroups</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--例如，有了上面的配置，Maven命令行可以使用简单的命令mvn jetty:run </span></span><br><span class="line"><span class="comment">    执行org.morbay.jetty:jetty-maven-plugin:run --&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--servers: 服务器认证信息 - 【不常用】</span></span><br><span class="line"><span class="comment">    用于访问需要身份验证的远程仓库或者部署到远程仓库。 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 服务器的标识符，</span></span><br><span class="line"><span class="comment">            应该与 pom.xml 中的 &lt;distributionManagement&gt; 部分</span></span><br><span class="line"><span class="comment">            或者 &lt;repositories&gt; 部分中的 id 匹配。 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>服务器的标识符<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 密码信息在配置文件中是明文存储的，因此要注意安全性。 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">username</span>&gt;</span>访问服务器的用户名<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">password</span>&gt;</span>访问服务器的密码<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 如果使用 SSH 认证而不是用户名/密码认证，</span></span><br><span class="line"><span class="comment">            可以配置私钥文件路径和对应的密码。</span></span><br><span class="line"><span class="comment">            私钥位置默认$&#123;user.home&#125;/.ssh/id_dsa) --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">privateKey</span>&gt;</span>私钥文件的路径<span class="tag">&lt;/<span class="name">privateKey</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">passphrase</span>&gt;</span>私钥的密码<span class="tag">&lt;/<span class="name">passphrase</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 在上传文件或目录到服务器时，设置它们的权限。</span></span><br><span class="line"><span class="comment">                合法值是一个三位数字，对应unix文件系统权限，如664/775 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filePermissions</span>&gt;</span>上传文件的权限设置<span class="tag">&lt;/<span class="name">filePermissions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directoryPermissions</span>&gt;</span>上传目录的权限设置<span class="tag">&lt;/<span class="name">directoryPermissions</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- 自定义的服务器配置 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置 Maven 镜像仓库，加速依赖的下载速度  - 【常用】</span></span><br><span class="line"><span class="comment">    相同仓库的镜像按顺序，只会有一个生效--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>huawei<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://repo.huaweicloud.com/repository/maven/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>tencent<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://mirrors.cloud.tencent.com/repository/maven/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- central 表示这个镜像替代默认的中央仓库。</span></span><br><span class="line"><span class="comment">            *,!central 表示替代所有仓库，除了中央仓库 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/public<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">layout</span>&gt;</span>default<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置代理服务器，以便 Maven 在构建过程中通过代理服务器访问外部网络资源 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">proxies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">proxy</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 代理服务器的标识符 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>example-proxy<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否激活这个代理配置 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">active</span>&gt;</span>false<span class="tag">&lt;/<span class="name">active</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 代理服务器使用的协议，例如 http 或 https --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">protocol</span>&gt;</span>http<span class="tag">&lt;/<span class="name">protocol</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 代理服务器的主机名或 IP 地址 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">host</span>&gt;</span>proxy.example.com<span class="tag">&lt;/<span class="name">host</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 代理服务器的端口号 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">port</span>&gt;</span>8080<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 访问代理服务器的用户名（如果需要认证） --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">username</span>&gt;</span>proxyuser<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 访问代理服务器的密码（如果需要认证） --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">password</span>&gt;</span>somepassword<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 不需要通过代理访问的主机列表，使用 | 分隔多个主机，支持通配符 * --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">nonProxyHosts</span>&gt;</span>www.baidu.com|*.example.com<span class="tag">&lt;/<span class="name">nonProxyHosts</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">proxy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">proxies</span>&gt;</span>  </span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- profiles 和 activeProfiles 在后面单独进行说明 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeProfiles</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;<span class="name">activeProfile</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">activeProfile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="profile"><a href="#profile" class="headerlink" title="profile"></a>profile</h1><p>profile用于根据不同的环境或条件（如构建目标、操作系统、环境变量等）来定制和激活不同的构建配置。<br>通过使用 <code>profiles</code>，可以在 <code>pom.xml</code> 或 <code>settings.xml</code> 文件中定义多个构建配置，并在构建时根据需要选择激活特定的配置，从而实现灵活的构建管理。</p>
<h2 id="激活优先级"><a href="#激活优先级" class="headerlink" title="激活优先级"></a>激活优先级</h2><ul>
<li><strong>命令行激活</strong> (<code>-P</code>) 的优先级最高。</li>
<li><strong><code>&lt;activeProfiles&gt;</code> 元素</strong> 次于命令行激活。</li>
<li><strong>按条件自动激活</strong> 再次之，依赖于具体的条件（JDK、OS、属性、文件存在性）。</li>
<li><strong>默认激活</strong> (<code>&lt;activeByDefault&gt;</code>) 在没有其他 <code>profiles</code> 被激活时生效。</li>
</ul>
<h2 id="命令行参数激活"><a href="#命令行参数激活" class="headerlink" title="命令行参数激活"></a>命令行参数激活</h2><ol>
<li>mvn clean install -Pprod  # 在命令行中激活 <code>prod</code> profile</li>
<li>在 IntelliJ IDEA 中的 Maven 窗口的 Profiles 目录下勾选相应的 profile，其实是通过命令行参数的方式来激活 profiles。 IDEA 会在运行 Maven 目标时，自动在命令行中附加 <code>-P</code> 参数来激活所选的 profile。</li>
</ol>
<h2 id="元素激活"><a href="#元素激活" class="headerlink" title="&lt;activeProfiles&gt; 元素激活"></a><code>&lt;activeProfiles&gt;</code> 元素激活</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeProfile</span>&gt;</span>prod<span class="tag">&lt;/<span class="name">activeProfile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="按条件激活"><a href="#按条件激活" class="headerlink" title="按条件激活"></a>按条件激活</h2><h3 id="JDK-版本"><a href="#JDK-版本" class="headerlink" title="JDK 版本"></a>JDK 版本</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">os</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>Windows<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">os</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>env<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>prod<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="文件存在"><a href="#文件存在" class="headerlink" title="文件存在"></a>文件存在</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exists</span>&gt;</span>path/to/some/file<span class="tag">&lt;/<span class="name">exists</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br></pre></td></tr></table></figure>


<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>prod<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>env<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>prod<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">activeProfiles</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">activeProfile</span>&gt;</span>custom<span class="tag">&lt;/<span class="name">activeProfile</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activeProfiles</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="默认激活"><a href="#默认激活" class="headerlink" title="默认激活"></a>默认激活</h2><p>没有其他 <code>profiles</code> 被激活时，具有 <code>&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;</code> 的 <code>profile</code> 会被激活。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>default-profile<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h2 id="profiles配置示例"><a href="#profiles配置示例" class="headerlink" title="profiles配置示例"></a>profiles配置示例</h2><h1 id="13-Git笔记-Maven-module提交到单独的-git-仓"><a href="#13-Git笔记-Maven-module提交到单独的-git-仓" class="headerlink" title="[[13. Git笔记#Maven module提交到单独的 git 仓]]"></a>[[13. Git笔记#Maven module提交到单独的 git 仓]]</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://guodefu909.github.io/2025/04/07/log4j2%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/tech.gif">
      <meta itemprop="name" content="guodefu909">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郭德福的博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 郭德福的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/07/log4j2%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">log4j2配置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-04-07 23:25:12 / 修改时间：23:25:49" itemprop="dateCreated datePublished" datetime="2025-04-07T23:25:12+08:00">2025-04-07</time>
    </span>

  
    <span id="/2025/04/07/log4j2%E9%85%8D%E7%BD%AE/" class="post-meta-item leancloud_visitors" data-flag-title="log4j2配置" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="log4j2配置" href="/2025/04/07/log4j2%E9%85%8D%E7%BD%AE/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::f4085a54bf1ab8a047677e1e122a1559" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--日志级别以及优先级排序: OFF &gt; FATAL &gt; ERROR &gt; WARN &gt; INFO &gt; DEBUG &gt; TRACE &gt; ALL --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--Configuration后面的status，这个用于设置log4j2自身内部的信息输出，可以不设置，当设置成trace时，你会看到log4j2内部各种详细输出--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--设置log4j2的自身log级别为warn--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--monitorInterval：Log4j能够定期检查配置文件的变化，设置间隔秒数。配置文件有变化，Log4j2 会自动重新加载配置文件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">status</span>=<span class="string">&quot;warn&quot;</span> <span class="attr">monitorInterval</span>=<span class="string">&quot;60&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置一些变量--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;LOG_HOME&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;sys:user.home&#125;/logs&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;MODULE_NAME&quot;</span> <span class="attr">value</span>=<span class="string">&quot;demo&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;LOG_MAX_SIZE&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10MB&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;LOG_MAX_FILE&quot;</span> <span class="attr">value</span>=<span class="string">&quot;24&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;LOG_PATTERN&quot;</span> <span class="attr">value</span>=<span class="string">&quot;%d&#123;HH:mm:ss.SSS&#125; [%X&#123;traceId&#125;,%X&#123;spanId&#125;] [%p] %-40c&#123;1.&#125; : %m%n&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Property</span> <span class="attr">name</span>=<span class="string">&quot;TIME_BASED_INTERVAL&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--先定义所有的appender--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Appenders</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--输出控制台的配置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Console</span> <span class="attr">name</span>=<span class="string">&quot;Console&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--输出日志的格式--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;LOG_PATTERN&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Console</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--文件会打印出所有信息，这个log每次运行程序会自动清空，由append属性决定，这个也挺有用的，适合临时测试用--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">File</span> <span class="attr">name</span>=<span class="string">&quot;test&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;$&#123;LOG_HOME&#125;/$&#123;MODULE_NAME&#125;/test.log&quot;</span> <span class="attr">append</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;LOG_PATTERN&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">File</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- info 和 warn 级别日志输出到文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingRandomAccessFile</span> <span class="attr">name</span>=<span class="string">&quot;info&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;$&#123;LOG_HOME&#125;/$&#123;MODULE_NAME&#125;/info.log&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">filePattern</span>=<span class="string">&quot;$&#123;LOG_HOME&#125;/$&#123;MODULE_NAME&#125;/info-%d&#123;yyyy-MM-dd-HH&#125;-%i.log.gz&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Filters</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--过滤掉 ERROR 及以上级别的日志，不将它们写入该日志文件--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--onMatch=&quot;DENY&quot; 表示当日志级别为 ERROR 或更高级别时，拒绝这些日志--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--onMismatch=&quot;NEUTRAL&quot; 表示如果不匹配这个条件，则继续后续的过滤操作--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ThresholdFilter</span> <span class="attr">level</span>=<span class="string">&quot;ERROR&quot;</span> <span class="attr">onMatch</span>=<span class="string">&quot;DENY&quot;</span> <span class="attr">onMismatch</span>=<span class="string">&quot;NEUTRAL&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--接受 INFO 及以上级别的日志，其他级别的日志被拒绝--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--onMatch=&quot;ACCEPT&quot; 表示当日志级别为 INFO 或更高级别时，接受这些日志--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--onMismatch=&quot;DENY&quot; 表示拒绝不符合条件的日志--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ThresholdFilter</span> <span class="attr">level</span>=<span class="string">&quot;INFO&quot;</span> <span class="attr">onMatch</span>=<span class="string">&quot;ACCEPT&quot;</span> <span class="attr">onMismatch</span>=<span class="string">&quot;DENY&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Filters</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;LOG_PATTERN&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--%d&#123;yyyy-MM-dd-HH&#125; 表示按照日期和小时进行滚动,interval=&quot;1&quot;：表示每 1 个时间单位滚动一次--&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--modulate=&quot;true&quot;：确保滚动时间调整到精确的小时边界，如每小时的开始时刻--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span> <span class="attr">interval</span>=<span class="string">&quot;1&quot;</span> <span class="attr">modulate</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--基于大小的滚动策略。size=&quot;10MB&quot; 表示当日志文件大小超过 10MB 时滚动--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;$&#123;LOG_MAX_SIZE&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--max=&quot;n&quot;：最多保留 n 个滚动文件，超出部分将被删除。--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">&quot;$&#123;LOG_MAX_FILE&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingRandomAccessFile</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- error 级别日志 单独输出一个文件 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RollingRandomAccessFile</span> <span class="attr">name</span>=<span class="string">&quot;error&quot;</span> <span class="attr">fileName</span>=<span class="string">&quot;$&#123;LOG_HOME&#125;/$&#123;MODULE_NAME&#125;/error.log&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">filePattern</span>=<span class="string">&quot;$&#123;LOG_HOME&#125;/$&#123;MODULE_NAME&#125;/error-%d&#123;yyyy-MM-dd&#125;-%i.log.gz&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ThresholdFilter</span> <span class="attr">level</span>=<span class="string">&quot;ERROR&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;$&#123;LOG_PATTERN&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Policies</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">TimeBasedTriggeringPolicy</span> <span class="attr">interval</span>=<span class="string">&quot;1&quot;</span> <span class="attr">modulate</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">SizeBasedTriggeringPolicy</span> <span class="attr">size</span>=<span class="string">&quot;$&#123;LOG_MAX_SIZE&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Policies</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">DefaultRolloverStrategy</span> <span class="attr">max</span>=<span class="string">&quot;$&#123;LOG_MAX_FILE&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RollingRandomAccessFile</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Appenders</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--然后定义logger，只有定义了logger并引用appender，appender才会生效--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Loggers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Logger 为特定包或类设置单独的日志记录器 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--通过设置 additivity=&quot;false&quot; 来阻止将日志传播到父记录器--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Logger</span> <span class="attr">name</span>=<span class="string">&quot;com.guodefu.demo.mapper&quot;</span> <span class="attr">level</span>=<span class="string">&quot;debug&quot;</span> <span class="attr">additivity</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 设置根日志记录器，指向控制台和滚动文件 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--所有未配置的日志记录器最终都会使用 &lt;Root&gt; 的配置--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Root</span> <span class="attr">level</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;Console&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;test&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;info&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">AppenderRef</span> <span class="attr">ref</span>=<span class="string">&quot;error&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Loggers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://guodefu909.github.io/2025/04/07/Nginx%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/tech.gif">
      <meta itemprop="name" content="guodefu909">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郭德福的博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 郭德福的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/07/Nginx%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">Nginx配置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-04-07 22:53:17 / 修改时间：23:07:34" itemprop="dateCreated datePublished" datetime="2025-04-07T22:53:17+08:00">2025-04-07</time>
    </span>

  
    <span id="/2025/04/07/Nginx%E9%85%8D%E7%BD%AE/" class="post-meta-item leancloud_visitors" data-flag-title="Nginx配置" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="Nginx配置" href="/2025/04/07/Nginx%E9%85%8D%E7%BD%AE/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::47e8da64c7a91d623d0d037cbfb307cf" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局配置</span></span><br><span class="line"><span class="attribute">user</span>  nginx;  <span class="comment"># 指定 Nginx 工作进程的用户</span></span><br><span class="line"><span class="attribute">worker_processes</span>  auto;  <span class="comment"># 根据可用 CPU 核心数自动设置工作进程数</span></span><br><span class="line"><span class="comment"># 最大打开文件描述符</span></span><br><span class="line"><span class="attribute">worker_rlimit_nofile</span>  <span class="number">1024</span>;          </span><br><span class="line"></span><br><span class="line"><span class="attribute">error_log</span>  /var/log/nginx/<span class="literal">error</span>.log <span class="literal">warn</span>;  <span class="comment"># 错误日志文件及日志级别</span></span><br><span class="line"><span class="attribute">pid</span>        /var/run/nginx.pid;  <span class="comment"># PID 文件的位置</span></span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">    <span class="attribute">worker_connections</span>  <span class="number">1024</span>;  <span class="comment"># 每个工作进程允许的最大连接数</span></span><br><span class="line">    <span class="attribute">multi_accept</span> <span class="literal">on</span>;  <span class="comment"># 启用多重接收,在高负载的服务器上使用</span></span><br><span class="line">    <span class="comment"># 使用 epoll 模型（Linux 特有），相对于传统的 `select` 和 `poll` 更高效</span></span><br><span class="line">    <span class="attribute">use</span> <span class="literal">epoll</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="http-配置"><a href="#http-配置" class="headerlink" title="http 配置"></a>http 配置</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">server_tokens</span>  <span class="literal">off</span>;  <span class="comment"># 隐藏 Nginx 版本</span></span><br><span class="line">    <span class="attribute">include</span>       /etc/nginx/mime.types;  <span class="comment"># 文件扩展名与文件类型映射表</span></span><br><span class="line">    <span class="attribute">default_type</span>  application/octet-stream;  <span class="comment"># 默认文件类型</span></span><br><span class="line">    <span class="attribute">charset</span> utf-<span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 自定义日志格式</span></span><br><span class="line">    <span class="attribute">log_format</span>  main  <span class="string">&#x27;<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] &quot;<span class="variable">$request</span>&quot; &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> &quot;<span class="variable">$http_referer</span>&quot; &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;&quot;<span class="variable">$http_user_agent</span>&quot; &quot;<span class="variable">$http_x_forwarded_for</span>&quot;&#x27;</span>;  </span><br><span class="line"></span><br><span class="line">    <span class="comment"># 访问日志文件及使用的日志格式</span></span><br><span class="line">    <span class="attribute">access_log</span>  /var/log/nginx/access.log  main;  </span><br><span class="line"></span><br><span class="line">    <span class="attribute">sendfile</span>                <span class="literal">on</span>;  <span class="comment"># 启用高效文件传输模式</span></span><br><span class="line">    <span class="attribute">tcp_nopush</span>                <span class="literal">on</span>;  <span class="comment"># 减少网络报文段的数量</span></span><br><span class="line">    <span class="attribute">keepalive_timeout</span>        <span class="number">65</span>;  <span class="comment"># 长连接超时时间</span></span><br><span class="line">    <span class="attribute">tcp_nodelay</span>                <span class="literal">on</span>;  <span class="comment"># 启用 TCP_NODELAY</span></span><br><span class="line">    <span class="attribute">types_hash_max_size</span>        <span class="number">2048</span>;  <span class="comment"># 类型哈希表的最大大小</span></span><br><span class="line">    <span class="attribute">client_body_timeout</span>        <span class="number">12</span>; </span><br><span class="line">    <span class="attribute">client_header_timeout</span>    <span class="number">12</span>;</span><br><span class="line">    <span class="attribute">send_timeout</span>            <span class="number">10</span>; </span><br><span class="line">    <span class="attribute">keepalive_requests</span>        <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 限制请求的速率（防止 DDoS 攻击） </span></span><br><span class="line">    <span class="attribute">limit_req_zone</span> <span class="variable">$binary_remote_addr</span> zone=mylimit:<span class="number">10m</span> rate=10r/s;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 压缩传输内容   </span></span><br><span class="line">    <span class="attribute">gzip</span> <span class="literal">on</span>;  <span class="comment"># 启用 gzip 压缩</span></span><br><span class="line">    <span class="attribute">gzip_disable</span> <span class="string">&quot;msie6&quot;</span>;  <span class="comment"># 禁用旧版 IE 的 gzip 压缩</span></span><br><span class="line">    <span class="attribute">gzip_vary</span> <span class="literal">on</span>;  <span class="comment"># 为代理和缓存服务器设置 Vary 头</span></span><br><span class="line">    <span class="attribute">gzip_proxied</span> any;  <span class="comment"># 允许所有代理请求进行 gzip 压缩</span></span><br><span class="line">    <span class="attribute">gzip_comp_level</span> <span class="number">6</span>;  <span class="comment"># 压缩级别（1-9，数字越大压缩率越高）</span></span><br><span class="line">    <span class="attribute">gzip_buffers</span> <span class="number">16</span> <span class="number">8k</span>;  <span class="comment"># 压缩缓冲区</span></span><br><span class="line">    <span class="attribute">gzip_http_version</span> <span class="number">1</span>.<span class="number">1</span>;  <span class="comment"># 使用 HTTP/1.1 进行 gzip 压缩</span></span><br><span class="line">    <span class="comment"># 压缩类型</span></span><br><span class="line">    <span class="attribute">gzip_types</span> text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/conf.d/<span class="regexp">*.conf</span>;  <span class="comment"># 包含额外的配置文件    </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h2><ul>
<li><strong>轮询（默认）</strong>：依次将请求分发给每个服务器。</li>
<li><strong>权重</strong>：根据服务器的权重进行请求分配，权重越高，分配的请求越多。</li>
<li><strong>IP 哈希</strong>：根据客户端 IP 进行哈希计算，保证同一个客户端的请求总是转发到同一个服务器。</li>
<li><strong>最少连接数</strong>：将请求分配给当前连接数最少的服务器。</li>
</ul>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 负载均衡配置</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 轮询</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    <span class="attribute">server</span> backend1.example.com;</span><br><span class="line">    <span class="attribute">server</span> backend2.example.com;</span><br><span class="line">    <span class="attribute">server</span> backend3.example.com;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 其他选项 </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 设置失败尝试次数和超时时间</span></span><br><span class="line">    max_fails=3 fail_timeout=30s; </span><br><span class="line">    <span class="comment"># 设置保持活动的最大连接数</span></span><br><span class="line">    <span class="attribute">keepalive</span> <span class="number">32</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 权重</span></span><br><span class="line"><span class="section">upstream</span> backend &#123; </span><br><span class="line">    <span class="comment"># 定义后端服务器及权重</span></span><br><span class="line">    <span class="attribute">server</span> backend1.example.com weight=<span class="number">3</span>; </span><br><span class="line">    <span class="attribute">server</span> backend2.example.com weight=<span class="number">2</span>; </span><br><span class="line">    <span class="attribute">server</span> backend3.example.com weight=<span class="number">1</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># IP 哈希</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    ip_hash;  <span class="comment"># 启用 IP 哈希负载均衡算法</span></span><br><span class="line">    <span class="attribute">server</span> backend1.example.com;</span><br><span class="line">    <span class="attribute">server</span> backend2.example.com;</span><br><span class="line">    <span class="attribute">server</span> backend3.example.com;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 最少连接数</span></span><br><span class="line"><span class="section">upstream</span> backend &#123;</span><br><span class="line">    least_conn; <span class="comment"># 启用最少连接数负载均衡算法</span></span><br><span class="line">    <span class="attribute">server</span> backend1.example.com;</span><br><span class="line">    <span class="attribute">server</span> backend2.example.com;</span><br><span class="line">    <span class="attribute">server</span> backend3.example.com;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="server-配置"><a href="#server-配置" class="headerlink" title="server 配置"></a>server 配置</h2><h3 id="错误页面配置"><a href="#错误页面配置" class="headerlink" title="错误页面配置"></a>错误页面配置</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123; </span><br><span class="line">    <span class="comment"># 错误页面配置 </span></span><br><span class="line">    <span class="attribute">error_page</span> <span class="number">404</span> /<span class="number">404</span>.html; <span class="comment"># 404 错误页面 </span></span><br><span class="line">    <span class="section">location</span> = /<span class="number">404</span>.html &#123; </span><br><span class="line">        <span class="attribute">root</span> /usr/share/nginx/html; <span class="comment"># 404 错误页面路径 </span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="attribute">error_page</span> <span class="number">500</span> <span class="number">502</span> <span class="number">503</span> <span class="number">504</span> /50x.html; <span class="comment"># 其他错误页面 </span></span><br><span class="line">    <span class="section">location</span> = /50x.html &#123; </span><br><span class="line">        <span class="attribute">root</span> /usr/share/nginx/html; <span class="comment"># 错误页面路径 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123; </span><br><span class="line">    <span class="attribute">listen</span> <span class="number">80</span>; <span class="comment"># 监听 80 端口 </span></span><br><span class="line">    <span class="attribute">server_name</span> example.com; <span class="comment"># 服务器名称 </span></span><br><span class="line">    <span class="comment"># 将所有 HTTP 请求重定向到 HTTPS </span></span><br><span class="line">    <span class="attribute">return</span> <span class="number">301</span> https://<span class="variable">$host</span><span class="variable">$request_uri</span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment"># 将请求重定向到新的路径</span></span><br><span class="line">    <span class="section">location</span> /oldpath/ &#123; </span><br><span class="line">        <span class="attribute">return</span> <span class="number">301</span> /newpath/;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="HTTPS-服务器配置"><a href="#HTTPS-服务器配置" class="headerlink" title="HTTPS 服务器配置"></a>HTTPS 服务器配置</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123; </span><br><span class="line">    <span class="comment"># 监听 443 端口，启用 SSL 和 HTTP/2 </span></span><br><span class="line">    <span class="attribute">listen</span> <span class="number">443</span> ssl http2; </span><br><span class="line">    <span class="comment"># 服务器名称 </span></span><br><span class="line">    <span class="attribute">server_name</span> example.com; </span><br><span class="line">    <span class="comment"># SSL 证书文件 </span></span><br><span class="line">    <span class="attribute">ssl_certificate</span> /etc/nginx/ssl/example.com.crt; </span><br><span class="line">    <span class="comment"># SSL 证书密钥文件 </span></span><br><span class="line">    <span class="attribute">ssl_certificate_key</span> /etc/nginx/ssl/example.com.key;</span><br><span class="line">    <span class="comment"># 启用的 SSL 协议  </span></span><br><span class="line">    <span class="attribute">ssl_protocols</span> TLSv1.<span class="number">2</span> TLSv1.<span class="number">3</span>; </span><br><span class="line">    <span class="comment"># 加密套件 </span></span><br><span class="line">    <span class="attribute">ssl_ciphers</span> <span class="string">&#x27;ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384&#x27;</span>; </span><br><span class="line">    <span class="comment"># 优先使用服务器的加密套件 </span></span><br><span class="line">    <span class="attribute">ssl_prefer_server_ciphers</span> <span class="literal">on</span>; </span><br><span class="line">    <span class="comment"># SSL 会话缓存 </span></span><br><span class="line">    <span class="attribute">ssl_session_cache</span> shared:SSL:<span class="number">10m</span>; </span><br><span class="line">    <span class="comment"># SSL 会话超时时间 </span></span><br><span class="line">    <span class="attribute">ssl_session_timeout</span> <span class="number">10m</span>; </span><br><span class="line">    <span class="comment"># SSL Stapling 可以提高 SSL/TLS 握手过程中的性能和安全性。</span></span><br><span class="line">    <span class="comment"># 它通过缓存和传递证书的状态信息，减少了每次连接到认证机构的需要。</span></span><br><span class="line">    <span class="attribute">ssl_stapling</span> <span class="literal">on</span>; </span><br><span class="line">    <span class="comment"># 启用 SSL Stapling 响应的验证，确保证书颁发机构真实性和有效性。</span></span><br><span class="line">    <span class="attribute">ssl_stapling_verify</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="comment"># 用于指定包含受信任的 CA 证书的文件，从证书供应商获得</span></span><br><span class="line">    <span class="comment"># 如果启用了 SSL Stapling 并且希望对 OCSP 响应进行验证，那么这个指令是必要的</span></span><br><span class="line">    <span class="attribute">ssl_trusted_certificate</span> /etc/nginx/ssl/example.com_chain.crt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 安全头部 </span></span><br><span class="line">    <span class="comment"># 防止网页被嵌入到其他网站的 `&lt;iframe&gt;` 中</span></span><br><span class="line">    <span class="comment"># DENY：禁止所有来源的嵌入。</span></span><br><span class="line">    <span class="comment"># SAMEORIGIN：允许同一域名的嵌入。</span></span><br><span class="line">    <span class="comment"># ALLOW-FROM uri：允许指定的来源嵌入</span></span><br><span class="line">    <span class="attribute">add_header</span> X-Frame-Options DENY; </span><br><span class="line">    <span class="comment"># 防止浏览器进行 MIME 类型猜测，防止 MIME 类型混淆攻击</span></span><br><span class="line">    <span class="attribute">add_header</span> X-Content-Type-Options nosniff; </span><br><span class="line">    <span class="comment"># 启用浏览器的 XSS 过滤器，并在检测到攻击时阻止页面加载。</span></span><br><span class="line">    <span class="attribute">add_header</span> X-XSS-Protection <span class="string">&quot;1; mode=block&quot;</span>; </span><br><span class="line">    <span class="comment"># 强制浏览器通过 HTTPS 访问网站，防止中间人攻击。</span></span><br><span class="line">    <span class="comment"># max-age：设置浏览器缓存 HSTS 规则的时间（秒）。31536000代表1年。</span></span><br><span class="line">    <span class="comment"># includeSubDomains：应用 HSTS 规则到所有子域。</span></span><br><span class="line">    <span class="comment"># preload：表明网站支持 HSTS 预加载列表（需要向 Chrome 提交）。</span></span><br><span class="line">    <span class="attribute">add_header</span> Strict-Transport-Security <span class="string">&quot;max-age=31536000; includeSubDomains&quot;</span> always;</span><br></pre></td></tr></table></figure>


<h2 id="location"><a href="#location" class="headerlink" title="location"></a>location</h2><h3 id="路径匹配"><a href="#路径匹配" class="headerlink" title="路径匹配"></a>路径匹配</h3><h4 id="四种匹配规则"><a href="#四种匹配规则" class="headerlink" title="四种匹配规则"></a>四种匹配规则</h4><ol>
<li><strong>精确匹配</strong>：使用 <code>=</code> 修饰符，只匹配完全相同的 URI。</li>
<li><strong>优先前缀匹配</strong>：使用 <code>^~</code> 修饰符，匹配以指定路径开头的请求。</li>
<li><strong>正则匹配</strong>：使用 <code>~</code> 或 <code>~*</code> 修饰符，<code>~</code> 表示区分大小写，<code>~*</code> 表示不区分大小写。 </li>
<li><strong>普通前缀匹配</strong>：使用 <code>/path/</code> 形式，匹配以指定路径开头的请求。</li>
</ol>
<h4 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h4><p><strong>精确匹配</strong> (<code>=</code>) &gt; <strong>优先前缀匹配</strong> (<code>^~</code>) &gt; <strong>正则匹配</strong> (<code>~</code>, <code>~*</code>) &gt; <strong>普通前缀匹配</strong></p>
<h4 id="匹配示例"><a href="#匹配示例" class="headerlink" title="匹配示例"></a>匹配示例</h4><h5 id="精确匹配"><a href="#精确匹配" class="headerlink" title="精确匹配"></a>精确匹配</h5><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> = /50x.html &#123; </span><br><span class="line">    <span class="attribute">root</span> /usr/share/nginx/html; <span class="comment"># 错误页面路径 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="优先前缀匹配"><a href="#优先前缀匹配" class="headerlink" title="优先前缀匹配"></a>优先前缀匹配</h5><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /static/ &#123; </span><br><span class="line">    <span class="attribute">root</span> /data/static; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="正则匹配"><a href="#正则匹配" class="headerlink" title="正则匹配"></a>正则匹配</h5><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> <span class="regexp">~ ^/api/(.*)$</span> &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://spring_cloud_gateway/<span class="variable">$1</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="普通前缀匹配"><a href="#普通前缀匹配" class="headerlink" title="普通前缀匹配"></a>普通前缀匹配</h5><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">location</span> /proxy/ &#123; </span><br><span class="line">    <span class="attribute">proxy_pass</span> http://127.0.0.1:8080;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="反向代理-proxy-pass"><a href="#反向代理-proxy-pass" class="headerlink" title="反向代理 proxy_pass"></a>反向代理 proxy_pass</h3><h4 id="配置项解释"><a href="#配置项解释" class="headerlink" title="配置项解释"></a>配置项解释</h4><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 反向代理</span></span><br><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /api/ &#123; </span><br><span class="line">    <span class="comment"># 常用</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 代理到后端服务器 </span></span><br><span class="line">    <span class="attribute">proxy_pass</span> http://spring_cloud_gateway/; </span><br><span class="line">    <span class="comment"># 传递客户端请求中的原始主机名</span></span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>; </span><br><span class="line">    <span class="comment"># 传递客户端的真实 IP</span></span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>; </span><br><span class="line">    <span class="comment"># 传递客户端 IP 及所有代理服务器的 IP</span></span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    <span class="comment"># 传递客户端请求使用的协议</span></span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 不常用</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 代理重定向</span></span><br><span class="line">    <span class="comment"># 修改后端服务器响应中的 Location 和 Refresh 头部以适应前端</span></span><br><span class="line">    <span class="comment"># 例如，后端服务器返回 http://backend_server/some_path，而你希望客户端访问 http://example.com/some_path</span></span><br><span class="line">    <span class="attribute">proxy_redirect</span> http://backend_server http://example.com;</span><br><span class="line">    <span class="comment"># 修改传递给后端服务器的请求体（一般不需要配置）</span></span><br><span class="line">    <span class="attribute">proxy_set_body</span> <span class="variable">$request_body</span>;</span><br><span class="line">    <span class="comment"># 启用或禁用代理缓冲（默认启用）</span></span><br><span class="line">    <span class="comment"># 如果后端服务器响应较大且希望尽快开始传输给客户端，可以禁用缓冲</span></span><br><span class="line">    <span class="attribute">proxy_buffering</span> <span class="literal">on</span>;</span><br><span class="line">    <span class="comment"># 设置从后端服务器接收响应的超时时间</span></span><br><span class="line">    <span class="comment"># 根据后端服务响应时间配置，一般设置为30秒到60秒</span></span><br><span class="line">    <span class="attribute">proxy_read_timeout</span> <span class="number">10s</span>;</span><br><span class="line">    <span class="comment"># 设置与后端服务器建立连接的超时时间</span></span><br><span class="line">    <span class="comment"># 一般设置为30秒到60秒，具体根据网络延迟和后端连接时间确定</span></span><br><span class="line">    <span class="attribute">proxy_connect_timeout</span> <span class="number">5s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="URL-截取"><a href="#URL-截取" class="headerlink" title="URL 截取"></a>URL 截取</h4><p>反向代理 的 URL 是否截取，主要看这个 URL 是否是 基础 URL<br>基础 URL 不会截取；非基础 URL 会被截取（如带有<code>/</code>或路径）<br>基础 URL 的结构如下：协议:&#x2F;&#x2F;主机名[:端口号]</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 基础 URL 不会截取</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># http://example.com/t1/doc ==&gt; http://servers/t1/doc</span></span><br><span class="line"><span class="section">location</span> /t1/ &#123; <span class="attribute">proxy_pass</span> http://servers; &#125;</span><br><span class="line"><span class="comment"># http://example.com/t2/doc ==&gt; http://servers/t2/doc</span></span><br><span class="line"><span class="section">location</span> /t2  &#123; <span class="attribute">proxy_pass</span> http://servers; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 非基础 URL 会被截取</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># http://example.com/t3/doc ==&gt; http://servers/doc</span></span><br><span class="line"><span class="section">location</span> /t3/ &#123; <span class="attribute">proxy_pass</span> http://servers/; &#125;</span><br><span class="line"><span class="comment"># http://example.com/t4/doc ==&gt; http://servers/doc</span></span><br><span class="line"><span class="comment"># Nginx 会智能地处理路径拼接，避免出现双斜杠</span></span><br><span class="line"><span class="section">location</span> /t4  &#123; <span class="attribute">proxy_pass</span> http://servers/; &#125;</span><br><span class="line"><span class="comment"># http://example.com/t5/doc ==&gt; http://servers/test/doc</span></span><br><span class="line"><span class="section">location</span> /t5/ &#123; <span class="attribute">proxy_pass</span> http://servers/test/; &#125;</span><br><span class="line"><span class="comment"># http://example.com/t6/doc ==&gt; http://servers/test/doc</span></span><br><span class="line"><span class="section">location</span> /t6  &#123; <span class="attribute">proxy_pass</span> http://servers/test; &#125;</span><br><span class="line"><span class="comment"># http://example.com/t7/doc ==&gt; http://servers/test/doc</span></span><br><span class="line"><span class="comment"># Nginx 会智能地处理路径拼接，避免出现双斜杠</span></span><br><span class="line"><span class="section">location</span> /t7  &#123; <span class="attribute">proxy_pass</span> http://servers/test/; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 错误配置</span></span><br><span class="line"><span class="comment"># 为了确保 Nginx 在转发请求时能够正确处理路径，建议在 proxy_pass URL 的末尾添加一个斜杠</span></span><br><span class="line"><span class="comment"># http://example.com/t8/doc ==&gt; http://servers/testdoc</span></span><br><span class="line"><span class="section">location</span> /t8/ &#123; <span class="attribute">proxy_pass</span> http://servers/test; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则表达式截取</span></span><br><span class="line"><span class="comment"># http://example.com/t9/doc ==&gt; http://servers/testdoc</span></span><br><span class="line"><span class="section">location</span> <span class="regexp">~ ^/t9/(.*)$</span> &#123; <span class="attribute">proxy_pass</span> http://servers/<span class="variable">$1</span>; &#125;</span><br></pre></td></tr></table></figure>



<h4 id="示例场景"><a href="#示例场景" class="headerlink" title="示例场景"></a>示例场景</h4><p>假设有一个客户端 <code>192.168.1.100</code><br>通过 Nginx 代理 <code>192.168.1.200</code><br>访问 Spring Cloud Gateway</p>
<ul>
<li><p>客户端请求：<code>https://example.com/api/resource</code></p>
</li>
<li><p>nginx配置：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 反向代理</span></span><br><span class="line"><span class="section">location</span><span class="regexp"> ^~</span> /api/ &#123; </span><br><span class="line">    <span class="attribute">proxy_pass</span> http://spring_cloud_gateway/;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-Proto <span class="variable">$scheme</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Nginx转发请求：<code>https://spring_cloud_gateway/resource</code></p>
</li>
<li><p>后端服务器接收到的请求头如下：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Host</span><span class="punctuation">: </span>example.com</span><br><span class="line"><span class="attribute">X-Real-IP</span><span class="punctuation">: </span>192.168.1.100</span><br><span class="line"><span class="attribute">X-Forwarded-For</span><span class="punctuation">: </span>192.168.1.100, 192.168.1.200</span><br><span class="line"><span class="attribute">X-Forwarded-Proto</span><span class="punctuation">: </span>https</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="限制访问"><a href="#限制访问" class="headerlink" title="限制访问"></a>限制访问</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="section">location</span> /admin/ &#123; </span><br><span class="line">        <span class="attribute">allow</span> <span class="number">192.168.1.0</span>/<span class="number">24</span>; <span class="comment"># 允许特定网段的 IP 访问 </span></span><br><span class="line">        <span class="attribute">deny</span> all; <span class="comment"># 拒绝所有其他访问 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="限制上传文件的类型和大小"><a href="#限制上传文件的类型和大小" class="headerlink" title="限制上传文件的类型和大小"></a>限制上传文件的类型和大小</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">    <span class="attribute">include</span> /etc/nginx/mime.types;</span><br><span class="line">    <span class="attribute">default_type</span> application/octet-stream;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义允许上传的 MIME 类型</span></span><br><span class="line">    <span class="attribute">map</span> <span class="variable">$http_content_type</span> <span class="variable">$allowed_type</span> &#123;</span><br><span class="line">        <span class="attribute">default</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 图片</span></span><br><span class="line">        &quot;image/jpeg&quot; 1;</span><br><span class="line">        &quot;image/png&quot; 1;</span><br><span class="line">        &quot;image/gif&quot; 1;</span><br><span class="line">        &quot;image/bmp&quot; 1;</span><br><span class="line">        &quot;image/webp&quot; 1;</span><br><span class="line">        &quot;image/svg+xml&quot; 1;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 文档</span></span><br><span class="line">        &quot;application/pdf&quot; 1;</span><br><span class="line">        &quot;application/msword&quot; 1;</span><br><span class="line">        &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot; 1;</span><br><span class="line">        &quot;application/vnd.ms-excel&quot; 1;</span><br><span class="line">        &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot; 1;</span><br><span class="line">        &quot;application/vnd.ms-powerpoint&quot; 1;</span><br><span class="line">        &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot; 1;</span><br><span class="line">        &quot;text/plain&quot; 1;</span><br><span class="line">        &quot;application/rtf&quot; 1;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 视频</span></span><br><span class="line">        &quot;video/mp4&quot; 1;</span><br><span class="line">        &quot;video/x-msvideo&quot; 1;</span><br><span class="line">        &quot;video/x-ms-wmv&quot; 1;</span><br><span class="line">        &quot;video/quicktime&quot; 1;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 音频</span></span><br><span class="line">        &quot;audio/mpeg&quot; 1;</span><br><span class="line">        &quot;audio/wav&quot; 1;</span><br><span class="line">        &quot;audio/ogg&quot; 1;</span><br><span class="line">        &quot;audio/x-m4a&quot; 1;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 压缩文件</span></span><br><span class="line">        &quot;application/zip&quot; 1;</span><br><span class="line">        &quot;application/x-tar&quot; 1;</span><br><span class="line">        &quot;application/x-gzip&quot; 1;</span><br><span class="line">        &quot;application/x-7z-compressed&quot; 1;</span><br><span class="line">        &quot;application/x-rar-compressed&quot; 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">80</span>;</span><br><span class="line">        <span class="attribute">server_name</span> example.com;</span><br><span class="line"></span><br><span class="line">        <span class="section">location</span> /upload &#123;</span><br><span class="line">            <span class="attribute">root</span> /usr/share/nginx/html;</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 限制上传文件的大小为 10MB</span></span><br><span class="line">            <span class="attribute">client_max_body_size</span> <span class="number">10M</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 检查文件类型是否被允许</span></span><br><span class="line">            <span class="attribute">if</span> (<span class="variable">$allowed_type</span> = <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="attribute">return</span> <span class="number">403</span>;  <span class="comment"># 返回 403 Forbidden</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 处理文件上传的请求</span></span><br><span class="line">            <span class="attribute">proxy_pass</span> http://backend_server;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>Nginx 提供了许多内置变量，可以在配置文件中使用这些变量来控制各种行为和设置。<br>这些变量通常在日志格式、条件判断、重写规则以及反向代理配置中使用。</p>
<p>下面是一些常见的 Nginx 变量及其详细解释。</p>
<table>
<thead>
<tr>
<th>变量名</th>
<th>描述</th>
<th>示例值</th>
</tr>
</thead>
<tbody><tr>
<td><code>$host</code></td>
<td>请求中的主机头字段</td>
<td><code>example.com</code></td>
</tr>
<tr>
<td><code>$http_user_agent</code></td>
<td>客户端的 User-Agent 字段</td>
<td><code>Mozilla/5.0 (Windows NT 10.0; Win64; x64)</code></td>
</tr>
<tr>
<td><code>$http_referer</code></td>
<td>请求发起页面的 URL</td>
<td><code>https://www.google.com/</code></td>
</tr>
<tr>
<td><code>$http_cookie</code></td>
<td>客户端请求中的 Cookie 字段</td>
<td><code>sessionid=abcdef1234567890</code></td>
</tr>
<tr>
<td><code>$remote_addr</code></td>
<td>客户端 IP 地址</td>
<td><code>192.168.1.1</code></td>
</tr>
<tr>
<td><code>$remote_port</code></td>
<td>客户端端口号</td>
<td><code>54321</code></td>
</tr>
<tr>
<td><code>$server_addr</code></td>
<td>服务器 IP 地址</td>
<td><code>192.168.1.2</code></td>
</tr>
<tr>
<td><code>$server_name</code></td>
<td>服务器名称</td>
<td><code>example.com</code></td>
</tr>
<tr>
<td><code>$server_port</code></td>
<td>服务器监听端口</td>
<td><code>80</code> 或 <code>443</code></td>
</tr>
<tr>
<td><code>$uri</code></td>
<td>请求中的当前 path，不包含请求参数</td>
<td><code>/path/to/resource</code></td>
</tr>
<tr>
<td><code>$document_uri</code></td>
<td>与 <code>$uri</code> 相同</td>
<td><code>/path/to/resource</code></td>
</tr>
<tr>
<td><code>$request_uri</code></td>
<td>原始请求 path，包含请求参数</td>
<td><code>/path/to/resource?query=string</code></td>
</tr>
<tr>
<td><code>$query_string</code> 或 <code>$args</code></td>
<td>请求中的参数部分</td>
<td><code>query=string</code></td>
</tr>
<tr>
<td><code>$request_method</code></td>
<td>请求方法</td>
<td><code>GET</code>, <code>POST</code></td>
</tr>
<tr>
<td><code>$scheme</code></td>
<td>请求使用的协议</td>
<td><code>http</code>, <code>https</code></td>
</tr>
<tr>
<td><code>$status</code></td>
<td>响应状态码</td>
<td><code>200</code>, <code>404</code></td>
</tr>
<tr>
<td><code>$time_local</code></td>
<td>请求的本地时间</td>
<td><code>10/Jul/2021:15:44:35 +0800</code></td>
</tr>
<tr>
<td><code>$proxy_add_x_forwarded_for</code></td>
<td>在现有 <code>X-Forwarded-For</code> 头字段后面添加客户端 IP</td>
<td><code>192.168.1.1, 10.0.0.1</code></td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://guodefu909.github.io/2025/04/06/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/tech.gif">
      <meta itemprop="name" content="guodefu909">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="郭德福的博客">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 郭德福的博客">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2025/04/06/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2025-04-06 22:42:14 / 修改时间：22:41:49" itemprop="dateCreated datePublished" datetime="2025-04-06T22:42:14+08:00">2025-04-06</time>
    </span>

  
    <span id="/2025/04/06/hello-world/" class="post-meta-item leancloud_visitors" data-flag-title="Hello World" title="阅读次数">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span class="leancloud-visitors-count"></span>
    </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Changyan：</span>
    
    <a title="Hello World" href="/2025/04/06/hello-world/#SOHUCS" itemprop="discussionUrl">
      <span id="sourceId::6e5ef4ff14335857a4be6f226df58e2e" class="cy_cmt_count" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">京ICP备11018762号 </a><a href="https://beian.mps.gov.cn/#/query/webSearch?code=11010802020287" rel="noopener" target="_blank">京公网安备号11010802020287 </a>
  </div>
  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">copyright © 2025 - 2025 guodefu909. All Rights Reserved. 郭德福 版权所有</span>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/guodefu909" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="changyan" type="application/json">{"enable":true,"appid":"cyxQ8jzxt","appkey":"prod_6247f357e475d50ce4327aeca5c290d3","count":true}</script>
<script src="/js/third-party/comments/changyan.js" defer></script>

</body>
</html>
